                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ANSI-C Compiler
                                      3 ; Version 4.2.0 #13081 (Linux)
                                      4 ;--------------------------------------------------------
                                      5 	.module clock
                                      6 	.optsdcc -mz80
                                      7 	
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _printlcddec
                                     12 	.globl _main
                                     13 	.globl _video_border
                                     14 	.globl _video_printtime
                                     15 	.globl _video_begin
                                     16 	.globl _lcd_home
                                     17 	.globl _readbuttons
                                     18 	.globl _setleds
                                     19 	.globl _lcd_begin
                                     20 	.globl _putchar_lcd
                                     21 	.globl _secs_a
                                     22 	.globl _secs
                                     23 	.globl _mins
                                     24 	.globl _hours
                                     25 	.globl _presc
                                     26 	.globl _isr2vector_copy
                                     27 	.globl _isr2vector
                                     28 	.globl _di
                                     29 	.globl _ei
                                     30 	.globl _printtime
                                     31 	.globl _new_isr2
                                     32 ;--------------------------------------------------------
                                     33 ; special function registers
                                     34 ;--------------------------------------------------------
                                     35 ;--------------------------------------------------------
                                     36 ; ram data
                                     37 ;--------------------------------------------------------
                                     38 	.area _DATA
      000000                         39 _isr2vector::
      000000                         40 	.ds 2
      000002                         41 _isr2vector_copy::
      000002                         42 	.ds 2
                                     43 ;--------------------------------------------------------
                                     44 ; ram data
                                     45 ;--------------------------------------------------------
                                     46 	.area _INITIALIZED
      000000                         47 _presc::
      000000                         48 	.ds 2
      000002                         49 _hours::
      000002                         50 	.ds 1
      000003                         51 _mins::
      000003                         52 	.ds 1
      000004                         53 _secs::
      000004                         54 	.ds 1
      000005                         55 _secs_a::
      000005                         56 	.ds 1
                                     57 ;--------------------------------------------------------
                                     58 ; absolute external ram data
                                     59 ;--------------------------------------------------------
                                     60 	.area _DABS (ABS)
                                     61 ;--------------------------------------------------------
                                     62 ; global & static initialisations
                                     63 ;--------------------------------------------------------
                                     64 	.area _HOME
                                     65 	.area _GSINIT
                                     66 	.area _GSFINAL
                                     67 	.area _GSINIT
                                     68 ;--------------------------------------------------------
                                     69 ; Home
                                     70 ;--------------------------------------------------------
                                     71 	.area _HOME
                                     72 	.area _HOME
                                     73 ;--------------------------------------------------------
                                     74 ; code
                                     75 ;--------------------------------------------------------
                                     76 	.area _CODE
                                     77 ;clock.c:28: void main (void){
                                     78 ;	---------------------------------
                                     79 ; Function main
                                     80 ; ---------------------------------
      000000                         81 _main::
      000000 CDr00r00         [17]   82 	call	___sdcc_enter_ix
      000003 21 F9 FF         [10]   83 	ld	hl, #-7
      000006 39               [11]   84 	add	hl, sp
      000007 F9               [ 6]   85 	ld	sp, hl
                                     86 ;clock.c:38: isr2vector = (int*)0x4104;
      000008 21 04 41         [10]   87 	ld	hl, #0x4104
      00000B 22r00r00         [16]   88 	ld	(_isr2vector), hl
                                     89 ;clock.c:42: setleds(0x55);
      00000E 3E 55            [ 7]   90 	ld	a, #0x55
      000010 CDr00r00         [17]   91 	call	_setleds
                                     92 ;clock.c:43: lcd_begin();
      000013 CDr00r00         [17]   93 	call	_lcd_begin
                                     94 ;clock.c:45: video_begin(1);
      000016 21 01 00         [10]   95 	ld	hl, #0x0001
      000019 CDr00r00         [17]   96 	call	_video_begin
                                     97 ;clock.c:46: video_border();
      00001C CDr00r00         [17]   98 	call	_video_border
                                     99 ;clock.c:48: isr2vector_copy = *isr2vector;
      00001F 2Ar00r00         [16]  100 	ld	hl, (_isr2vector)
      000022 7E               [ 7]  101 	ld	a, (hl)
      000023 23               [ 6]  102 	inc	hl
      000024 32r02r00         [13]  103 	ld	(_isr2vector_copy+0), a
      000027 7E               [ 7]  104 	ld	a, (hl)
      000028 32r03r00         [13]  105 	ld	(_isr2vector_copy+1), a
                                    106 ;clock.c:50: di();
      00002B CDr0Ar02         [17]  107 	call	_di
                                    108 ;clock.c:52: *isr2vector = (int)new_isr2;
      00002E 2Ar00r00         [16]  109 	ld	hl, (_isr2vector)
      000031 01r55r02         [10]  110 	ld	bc, #_new_isr2
      000034 71               [ 7]  111 	ld	(hl), c
      000035 23               [ 6]  112 	inc	hl
      000036 70               [ 7]  113 	ld	(hl), b
                                    114 ;clock.c:54: ei();
      000037 CDr0Cr02         [17]  115 	call	_ei
                                    116 ;clock.c:56: printtime();
      00003A CDr2Dr02         [17]  117 	call	_printtime
                                    118 ;clock.c:58: video_printtime(hours, mins, secs);
      00003D 3Ar04r00         [13]  119 	ld	a, (_secs+0)
      000040 F5               [11]  120 	push	af
      000041 33               [ 6]  121 	inc	sp
      000042 3Ar03r00         [13]  122 	ld	a, (_mins+0)
      000045 6F               [ 4]  123 	ld	l, a
                                    124 ;	spillPairReg hl
                                    125 ;	spillPairReg hl
      000046 3Ar02r00         [13]  126 	ld	a, (_hours+0)
      000049 CDr00r00         [17]  127 	call	_video_printtime
                                    128 ;clock.c:60: buttons = buttons_a = readbuttons();
      00004C CDr00r00         [17]  129 	call	_readbuttons
      00004F 4F               [ 4]  130 	ld	c, a
      000050                        131 00131$:
                                    132 ;clock.c:64: buttons = readbuttons();
      000050 C5               [11]  133 	push	bc
      000051 CDr00r00         [17]  134 	call	_readbuttons
      000054 C1               [10]  135 	pop	bc
                                    136 ;clock.c:65: delta = buttons ^ buttons_a;
      000055 DD 77 F9         [19]  137 	ld	-7 (ix), a
      000058 A9               [ 4]  138 	xor	a, c
                                    139 ;clock.c:67: if (delta & 0x01 & buttons_a){
      000059 DD 77 FA         [19]  140 	ld	-6 (ix), a
      00005C DD 36 FB 00      [19]  141 	ld	-5 (ix), #0x00
      000060 DD 7E FA         [19]  142 	ld	a, -6 (ix)
      000063 E6 01            [ 7]  143 	and	a, #0x01
      000065 06 00            [ 7]  144 	ld	b, #0x00
      000067 DD 71 FC         [19]  145 	ld	-4 (ix), c
      00006A DD 36 FD 00      [19]  146 	ld	-3 (ix), #0x00
      00006E DD A6 FC         [19]  147 	and	a, -4 (ix)
      000071 4F               [ 4]  148 	ld	c, a
      000072 78               [ 4]  149 	ld	a, b
      000073 DD A6 FD         [19]  150 	and	a, -3 (ix)
      000076 B1               [ 4]  151 	or	a, c
      000077 28 2A            [12]  152 	jr	Z, 00104$
                                    153 ;clock.c:68: di();
      000079 CDr0Ar02         [17]  154 	call	_di
                                    155 ;clock.c:69: hours++;
      00007C FD 21r02r00      [14]  156 	ld	iy, #_hours
      000080 FD 34 00         [23]  157 	inc	0 (iy)
                                    158 ;clock.c:70: if (hours == 24) hours = 0;
      000083 3Ar02r00         [13]  159 	ld	a, (_hours+0)
      000086 D6 18            [ 7]  160 	sub	a, #0x18
      000088 20 04            [12]  161 	jr	NZ, 00102$
      00008A FD 36 00 00      [19]  162 	ld	0 (iy), #0x00
      00008E                        163 00102$:
                                    164 ;clock.c:71: ei();
      00008E CDr0Cr02         [17]  165 	call	_ei
                                    166 ;clock.c:72: printtime();
      000091 CDr2Dr02         [17]  167 	call	_printtime
                                    168 ;clock.c:73: video_printtime(hours, mins, secs);
      000094 3Ar04r00         [13]  169 	ld	a, (_secs+0)
      000097 F5               [11]  170 	push	af
      000098 33               [ 6]  171 	inc	sp
      000099 3Ar03r00         [13]  172 	ld	a, (_mins+0)
      00009C 6F               [ 4]  173 	ld	l, a
                                    174 ;	spillPairReg hl
                                    175 ;	spillPairReg hl
      00009D 3Ar02r00         [13]  176 	ld	a, (_hours+0)
      0000A0 CDr00r00         [17]  177 	call	_video_printtime
      0000A3                        178 00104$:
                                    179 ;clock.c:76: if (delta & 0x02 & buttons_a){
      0000A3 DD 7E FA         [19]  180 	ld	a, -6 (ix)
      0000A6 E6 02            [ 7]  181 	and	a, #0x02
      0000A8 0E 00            [ 7]  182 	ld	c, #0x00
      0000AA DD A6 FC         [19]  183 	and	a, -4 (ix)
      0000AD DD 77 FE         [19]  184 	ld	-2 (ix), a
      0000B0 79               [ 4]  185 	ld	a, c
      0000B1 DD A6 FD         [19]  186 	and	a, -3 (ix)
      0000B4 DD 77 FF         [19]  187 	ld	-1 (ix), a
      0000B7 DD B6 FE         [19]  188 	or	a, -2 (ix)
      0000BA 28 2A            [12]  189 	jr	Z, 00108$
                                    190 ;clock.c:77: di();
      0000BC CDr0Ar02         [17]  191 	call	_di
                                    192 ;clock.c:78: mins++;
      0000BF FD 21r03r00      [14]  193 	ld	iy, #_mins
      0000C3 FD 34 00         [23]  194 	inc	0 (iy)
                                    195 ;clock.c:79: if (mins == 60) mins = 0;
      0000C6 3Ar03r00         [13]  196 	ld	a, (_mins+0)
      0000C9 D6 3C            [ 7]  197 	sub	a, #0x3c
      0000CB 20 04            [12]  198 	jr	NZ, 00106$
      0000CD FD 36 00 00      [19]  199 	ld	0 (iy), #0x00
      0000D1                        200 00106$:
                                    201 ;clock.c:80: ei();
      0000D1 CDr0Cr02         [17]  202 	call	_ei
                                    203 ;clock.c:81: printtime();
      0000D4 CDr2Dr02         [17]  204 	call	_printtime
                                    205 ;clock.c:82: video_printtime(hours, mins, secs);
      0000D7 3Ar04r00         [13]  206 	ld	a, (_secs+0)
      0000DA F5               [11]  207 	push	af
      0000DB 33               [ 6]  208 	inc	sp
      0000DC 3Ar03r00         [13]  209 	ld	a, (_mins+0)
      0000DF 6F               [ 4]  210 	ld	l, a
                                    211 ;	spillPairReg hl
                                    212 ;	spillPairReg hl
      0000E0 3Ar02r00         [13]  213 	ld	a, (_hours+0)
      0000E3 CDr00r00         [17]  214 	call	_video_printtime
      0000E6                        215 00108$:
                                    216 ;clock.c:85: if (delta & 0x04 & buttons_a){
      0000E6 DD 7E FA         [19]  217 	ld	a, -6 (ix)
      0000E9 E6 04            [ 7]  218 	and	a, #0x04
      0000EB 06 00            [ 7]  219 	ld	b, #0x00
      0000ED DD A6 FC         [19]  220 	and	a, -4 (ix)
      0000F0 4F               [ 4]  221 	ld	c, a
      0000F1 78               [ 4]  222 	ld	a, b
      0000F2 DD A6 FD         [19]  223 	and	a, -3 (ix)
      0000F5 B1               [ 4]  224 	or	a, c
      0000F6 28 2A            [12]  225 	jr	Z, 00112$
                                    226 ;clock.c:86: di();
      0000F8 CDr0Ar02         [17]  227 	call	_di
                                    228 ;clock.c:87: secs++;
      0000FB FD 21r04r00      [14]  229 	ld	iy, #_secs
      0000FF FD 34 00         [23]  230 	inc	0 (iy)
                                    231 ;clock.c:88: if (secs == 60) secs = 0;
      000102 3Ar04r00         [13]  232 	ld	a, (_secs+0)
      000105 D6 3C            [ 7]  233 	sub	a, #0x3c
      000107 20 04            [12]  234 	jr	NZ, 00110$
      000109 FD 36 00 00      [19]  235 	ld	0 (iy), #0x00
      00010D                        236 00110$:
                                    237 ;clock.c:89: ei();
      00010D CDr0Cr02         [17]  238 	call	_ei
                                    239 ;clock.c:90: printtime();
      000110 CDr2Dr02         [17]  240 	call	_printtime
                                    241 ;clock.c:91: video_printtime(hours, mins, secs);
      000113 3Ar04r00         [13]  242 	ld	a, (_secs+0)
      000116 F5               [11]  243 	push	af
      000117 33               [ 6]  244 	inc	sp
      000118 3Ar03r00         [13]  245 	ld	a, (_mins+0)
      00011B 6F               [ 4]  246 	ld	l, a
                                    247 ;	spillPairReg hl
                                    248 ;	spillPairReg hl
      00011C 3Ar02r00         [13]  249 	ld	a, (_hours+0)
      00011F CDr00r00         [17]  250 	call	_video_printtime
      000122                        251 00112$:
                                    252 ;clock.c:94: if (delta & 0x08 & buttons_a){
      000122 DD 7E FA         [19]  253 	ld	a, -6 (ix)
      000125 E6 08            [ 7]  254 	and	a, #0x08
      000127 06 00            [ 7]  255 	ld	b, #0x00
      000129 DD A6 FC         [19]  256 	and	a, -4 (ix)
      00012C 4F               [ 4]  257 	ld	c, a
      00012D 78               [ 4]  258 	ld	a, b
      00012E DD A6 FD         [19]  259 	and	a, -3 (ix)
      000131 B1               [ 4]  260 	or	a, c
      000132 28 29            [12]  261 	jr	Z, 00117$
                                    262 ;clock.c:95: di();
      000134 CDr0Ar02         [17]  263 	call	_di
                                    264 ;clock.c:96: if (hours)
      000137 3Ar02r00         [13]  265 	ld	a, (_hours+0)
      00013A B7               [ 4]  266 	or	a, a
      00013B 28 06            [12]  267 	jr	Z, 00114$
                                    268 ;clock.c:97: hours--;
      00013D 21r02r00         [10]  269 	ld	hl, #_hours
      000140 35               [11]  270 	dec	(hl)
      000141 18 05            [12]  271 	jr	00115$
      000143                        272 00114$:
                                    273 ;clock.c:99: hours = 23;
      000143 21r02r00         [10]  274 	ld	hl, #_hours
      000146 36 17            [10]  275 	ld	(hl), #0x17
      000148                        276 00115$:
                                    277 ;clock.c:100: ei();
      000148 CDr0Cr02         [17]  278 	call	_ei
                                    279 ;clock.c:101: printtime();
      00014B CDr2Dr02         [17]  280 	call	_printtime
                                    281 ;clock.c:102: video_printtime(hours, mins, secs);
      00014E 3Ar04r00         [13]  282 	ld	a, (_secs+0)
      000151 F5               [11]  283 	push	af
      000152 33               [ 6]  284 	inc	sp
      000153 3Ar03r00         [13]  285 	ld	a, (_mins+0)
      000156 6F               [ 4]  286 	ld	l, a
                                    287 ;	spillPairReg hl
                                    288 ;	spillPairReg hl
      000157 3Ar02r00         [13]  289 	ld	a, (_hours+0)
      00015A CDr00r00         [17]  290 	call	_video_printtime
      00015D                        291 00117$:
                                    292 ;clock.c:105: if (delta & 0x10 & buttons_a){
      00015D DD 7E FA         [19]  293 	ld	a, -6 (ix)
      000160 E6 10            [ 7]  294 	and	a, #0x10
      000162 06 00            [ 7]  295 	ld	b, #0x00
      000164 DD A6 FC         [19]  296 	and	a, -4 (ix)
      000167 4F               [ 4]  297 	ld	c, a
      000168 78               [ 4]  298 	ld	a, b
      000169 DD A6 FD         [19]  299 	and	a, -3 (ix)
      00016C B1               [ 4]  300 	or	a, c
      00016D 28 29            [12]  301 	jr	Z, 00122$
                                    302 ;clock.c:106: di();
      00016F CDr0Ar02         [17]  303 	call	_di
                                    304 ;clock.c:107: if (mins)
      000172 3Ar03r00         [13]  305 	ld	a, (_mins+0)
      000175 B7               [ 4]  306 	or	a, a
      000176 28 06            [12]  307 	jr	Z, 00119$
                                    308 ;clock.c:108: mins--;
      000178 21r03r00         [10]  309 	ld	hl, #_mins
      00017B 35               [11]  310 	dec	(hl)
      00017C 18 05            [12]  311 	jr	00120$
      00017E                        312 00119$:
                                    313 ;clock.c:110: mins = 59;
      00017E 21r03r00         [10]  314 	ld	hl, #_mins
      000181 36 3B            [10]  315 	ld	(hl), #0x3b
      000183                        316 00120$:
                                    317 ;clock.c:111: ei();
      000183 CDr0Cr02         [17]  318 	call	_ei
                                    319 ;clock.c:112: printtime();
      000186 CDr2Dr02         [17]  320 	call	_printtime
                                    321 ;clock.c:113: video_printtime(hours, mins, secs);
      000189 3Ar04r00         [13]  322 	ld	a, (_secs+0)
      00018C F5               [11]  323 	push	af
      00018D 33               [ 6]  324 	inc	sp
      00018E 3Ar03r00         [13]  325 	ld	a, (_mins+0)
      000191 6F               [ 4]  326 	ld	l, a
                                    327 ;	spillPairReg hl
                                    328 ;	spillPairReg hl
      000192 3Ar02r00         [13]  329 	ld	a, (_hours+0)
      000195 CDr00r00         [17]  330 	call	_video_printtime
      000198                        331 00122$:
                                    332 ;clock.c:116: if (delta & 0x20 & buttons_a){
      000198 DD 7E FA         [19]  333 	ld	a, -6 (ix)
      00019B E6 20            [ 7]  334 	and	a, #0x20
      00019D 0E 00            [ 7]  335 	ld	c, #0x00
      00019F DD A6 FC         [19]  336 	and	a, -4 (ix)
      0001A2 47               [ 4]  337 	ld	b, a
      0001A3 79               [ 4]  338 	ld	a, c
      0001A4 DD A6 FD         [19]  339 	and	a, -3 (ix)
      0001A7 B0               [ 4]  340 	or	a, b
      0001A8 28 29            [12]  341 	jr	Z, 00127$
                                    342 ;clock.c:117: di();
      0001AA CDr0Ar02         [17]  343 	call	_di
                                    344 ;clock.c:118: if (secs)
      0001AD 3Ar04r00         [13]  345 	ld	a, (_secs+0)
      0001B0 B7               [ 4]  346 	or	a, a
      0001B1 28 06            [12]  347 	jr	Z, 00124$
                                    348 ;clock.c:119: secs--;
      0001B3 21r04r00         [10]  349 	ld	hl, #_secs
      0001B6 35               [11]  350 	dec	(hl)
      0001B7 18 05            [12]  351 	jr	00125$
      0001B9                        352 00124$:
                                    353 ;clock.c:121: secs = 59;
      0001B9 21r04r00         [10]  354 	ld	hl, #_secs
      0001BC 36 3B            [10]  355 	ld	(hl), #0x3b
      0001BE                        356 00125$:
                                    357 ;clock.c:122: ei();
      0001BE CDr0Cr02         [17]  358 	call	_ei
                                    359 ;clock.c:123: printtime();
      0001C1 CDr2Dr02         [17]  360 	call	_printtime
                                    361 ;clock.c:124: video_printtime(hours, mins, secs);
      0001C4 3Ar04r00         [13]  362 	ld	a, (_secs+0)
      0001C7 F5               [11]  363 	push	af
      0001C8 33               [ 6]  364 	inc	sp
      0001C9 3Ar03r00         [13]  365 	ld	a, (_mins+0)
      0001CC 6F               [ 4]  366 	ld	l, a
                                    367 ;	spillPairReg hl
                                    368 ;	spillPairReg hl
      0001CD 3Ar02r00         [13]  369 	ld	a, (_hours+0)
      0001D0 CDr00r00         [17]  370 	call	_video_printtime
      0001D3                        371 00127$:
                                    372 ;clock.c:127: buttons_a = buttons;
      0001D3 DD 4E F9         [19]  373 	ld	c, -7 (ix)
                                    374 ;clock.c:129: setleds(*p & buttons);
      0001D6 3A FE 41         [13]  375 	ld	a, (#0x41fe)
      0001D9 DD A6 F9         [19]  376 	and	a, -7 (ix)
      0001DC 47               [ 4]  377 	ld	b, a
      0001DD C5               [11]  378 	push	bc
      0001DE 78               [ 4]  379 	ld	a, b
      0001DF CDr00r00         [17]  380 	call	_setleds
      0001E2 C1               [10]  381 	pop	bc
                                    382 ;clock.c:130: if (secs != secs_a){
      0001E3 3Ar04r00         [13]  383 	ld	a, (_secs+0)
      0001E6 21r05r00         [10]  384 	ld	hl, #_secs_a
      0001E9 96               [ 7]  385 	sub	a, (hl)
      0001EA CAr50r00         [10]  386 	jp	Z,00131$
                                    387 ;clock.c:131: secs_a = secs;
      0001ED 3Ar04r00         [13]  388 	ld	a, (_secs+0)
      0001F0 32r05r00         [13]  389 	ld	(_secs_a+0), a
                                    390 ;clock.c:132: printtime();
      0001F3 C5               [11]  391 	push	bc
      0001F4 CDr2Dr02         [17]  392 	call	_printtime
      0001F7 3Ar04r00         [13]  393 	ld	a, (_secs+0)
      0001FA F5               [11]  394 	push	af
      0001FB 33               [ 6]  395 	inc	sp
      0001FC 3Ar03r00         [13]  396 	ld	a, (_mins+0)
      0001FF 6F               [ 4]  397 	ld	l, a
                                    398 ;	spillPairReg hl
                                    399 ;	spillPairReg hl
      000200 3Ar02r00         [13]  400 	ld	a, (_hours+0)
      000203 CDr00r00         [17]  401 	call	_video_printtime
      000206 C1               [10]  402 	pop	bc
                                    403 ;clock.c:136: }
      000207 C3r50r00         [10]  404 	jp	00131$
                                    405 ;clock.c:139: void di() __naked{
                                    406 ;	---------------------------------
                                    407 ; Function di
                                    408 ; ---------------------------------
      00020A                        409 _di::
                                    410 ;clock.c:144: __endasm;
      00020A F3               [ 4]  411 	di
      00020B C9               [10]  412 	ret
                                    413 ;clock.c:145: }
                                    414 ;clock.c:148: void ei() __naked{
                                    415 ;	---------------------------------
                                    416 ; Function ei
                                    417 ; ---------------------------------
      00020C                        418 _ei::
                                    419 ;clock.c:153: __endasm;
      00020C FB               [ 4]  420 	ei
      00020D C9               [10]  421 	ret
                                    422 ;clock.c:154: }
                                    423 ;clock.c:157: void printlcddec(int d){
                                    424 ;	---------------------------------
                                    425 ; Function printlcddec
                                    426 ; ---------------------------------
      00020E                        427 _printlcddec::
                                    428 ;clock.c:159: putchar_lcd('0' + (d / 10));
      00020E E5               [11]  429 	push	hl
      00020F 11 0A 00         [10]  430 	ld	de, #0x000a
      000212 CDr00r00         [17]  431 	call	__divsint
      000215 E1               [10]  432 	pop	hl
      000216 7B               [ 4]  433 	ld	a, e
      000217 C6 30            [ 7]  434 	add	a, #0x30
      000219 4F               [ 4]  435 	ld	c, a
      00021A E5               [11]  436 	push	hl
      00021B 79               [ 4]  437 	ld	a, c
      00021C CDr00r00         [17]  438 	call	_putchar_lcd
      00021F E1               [10]  439 	pop	hl
                                    440 ;clock.c:160: putchar_lcd('0' + (d % 10));
      000220 11 0A 00         [10]  441 	ld	de, #0x000a
      000223 CDr00r00         [17]  442 	call	__modsint
      000226 7B               [ 4]  443 	ld	a, e
      000227 C6 30            [ 7]  444 	add	a, #0x30
      000229 4F               [ 4]  445 	ld	c, a
                                    446 ;clock.c:161: }
      00022A C3r00r00         [10]  447 	jp	_putchar_lcd
                                    448 ;clock.c:164: void printtime(void){
                                    449 ;	---------------------------------
                                    450 ; Function printtime
                                    451 ; ---------------------------------
      00022D                        452 _printtime::
                                    453 ;clock.c:166: lcd_home();
      00022D CDr00r00         [17]  454 	call	_lcd_home
                                    455 ;clock.c:167: printlcddec(hours);
      000230 3Ar02r00         [13]  456 	ld	a, (_hours+0)
      000233 6F               [ 4]  457 	ld	l, a
                                    458 ;	spillPairReg hl
                                    459 ;	spillPairReg hl
      000234 26 00            [ 7]  460 	ld	h, #0x00
                                    461 ;	spillPairReg hl
                                    462 ;	spillPairReg hl
      000236 CDr0Er02         [17]  463 	call	_printlcddec
                                    464 ;clock.c:168: putchar_lcd(':');
      000239 3E 3A            [ 7]  465 	ld	a, #0x3a
      00023B CDr00r00         [17]  466 	call	_putchar_lcd
                                    467 ;clock.c:169: printlcddec(mins);
      00023E 3Ar03r00         [13]  468 	ld	a, (_mins+0)
      000241 6F               [ 4]  469 	ld	l, a
                                    470 ;	spillPairReg hl
                                    471 ;	spillPairReg hl
      000242 26 00            [ 7]  472 	ld	h, #0x00
                                    473 ;	spillPairReg hl
                                    474 ;	spillPairReg hl
      000244 CDr0Er02         [17]  475 	call	_printlcddec
                                    476 ;clock.c:170: putchar_lcd(':');
      000247 3E 3A            [ 7]  477 	ld	a, #0x3a
      000249 CDr00r00         [17]  478 	call	_putchar_lcd
                                    479 ;clock.c:171: printlcddec(secs);
      00024C 3Ar04r00         [13]  480 	ld	a, (_secs+0)
      00024F 6F               [ 4]  481 	ld	l, a
                                    482 ;	spillPairReg hl
                                    483 ;	spillPairReg hl
      000250 26 00            [ 7]  484 	ld	h, #0x00
                                    485 ;	spillPairReg hl
                                    486 ;	spillPairReg hl
                                    487 ;clock.c:172: }
      000252 C3r0Er02         [10]  488 	jp	_printlcddec
                                    489 ;clock.c:175: void new_isr2(void) __interrupt {
                                    490 ;	---------------------------------
                                    491 ; Function new_isr2
                                    492 ; ---------------------------------
      000255                        493 _new_isr2::
      000255 FB               [ 4]  494 	ei
      000256 F5               [11]  495 	push	af
      000257 C5               [11]  496 	push	bc
      000258 D5               [11]  497 	push	de
      000259 E5               [11]  498 	push	hl
      00025A FD E5            [15]  499 	push	iy
                                    500 ;clock.c:177: presc++;
      00025C 2Ar00r00         [16]  501 	ld	hl, (_presc)
      00025F 23               [ 6]  502 	inc	hl
      000260 22r00r00         [16]  503 	ld	(_presc), hl
                                    504 ;clock.c:178: if (presc == 300){
      000263 3Ar00r00         [13]  505 	ld	a, (_presc+0)
      000266 D6 2C            [ 7]  506 	sub	a, #0x2c
      000268 20 42            [12]  507 	jr	NZ, 00108$
      00026A 3Ar01r00         [13]  508 	ld	a, (_presc+1)
      00026D 3D               [ 4]  509 	dec	a
      00026E 20 3C            [12]  510 	jr	NZ, 00108$
                                    511 ;clock.c:179: presc = 0;
      000270 21 00 00         [10]  512 	ld	hl, #0x0000
      000273 22r00r00         [16]  513 	ld	(_presc), hl
                                    514 ;clock.c:180: secs++;
      000276 FD 21r04r00      [14]  515 	ld	iy, #_secs
      00027A FD 34 00         [23]  516 	inc	0 (iy)
                                    517 ;clock.c:181: if (secs == 60){
      00027D 3Ar04r00         [13]  518 	ld	a, (_secs+0)
      000280 D6 3C            [ 7]  519 	sub	a, #0x3c
      000282 20 28            [12]  520 	jr	NZ, 00108$
                                    521 ;clock.c:182: secs = 0;
      000284 FD 36 00 00      [19]  522 	ld	0 (iy), #0x00
                                    523 ;clock.c:183: ++mins;
      000288 FD 21r03r00      [14]  524 	ld	iy, #_mins
      00028C FD 34 00         [23]  525 	inc	0 (iy)
                                    526 ;clock.c:184: if (mins == 60){
      00028F 3Ar03r00         [13]  527 	ld	a, (_mins+0)
      000292 D6 3C            [ 7]  528 	sub	a, #0x3c
      000294 20 16            [12]  529 	jr	NZ, 00108$
                                    530 ;clock.c:185: mins = 0;
      000296 FD 36 00 00      [19]  531 	ld	0 (iy), #0x00
                                    532 ;clock.c:186: ++hours;
      00029A FD 21r02r00      [14]  533 	ld	iy, #_hours
      00029E FD 34 00         [23]  534 	inc	0 (iy)
                                    535 ;clock.c:187: if (hours == 24){
      0002A1 3Ar02r00         [13]  536 	ld	a, (_hours+0)
      0002A4 D6 18            [ 7]  537 	sub	a, #0x18
      0002A6 20 04            [12]  538 	jr	NZ, 00108$
                                    539 ;clock.c:188: hours = 0;
      0002A8 FD 36 00 00      [19]  540 	ld	0 (iy), #0x00
      0002AC                        541 00108$:
                                    542 ;clock.c:202: __endasm;
      0002AC 21rB4r02         [10]  543 	ld	hl,#ret_isr2
      0002AF E5               [11]  544 	push	hl
      0002B0 2Ar02r00         [16]  545 	ld	hl,(_isr2vector_copy)
      0002B3 E9               [ 4]  546 	jp	(hl)
      0002B4                        547 	ret_isr2:
                                    548 ;clock.c:203: }
      0002B4 FD E1            [14]  549 	pop	iy
      0002B6 E1               [10]  550 	pop	hl
      0002B7 D1               [10]  551 	pop	de
      0002B8 C1               [10]  552 	pop	bc
      0002B9 F1               [10]  553 	pop	af
      0002BA ED 4D            [14]  554 	reti
                                    555 	.area _CODE
                                    556 	.area _INITIALIZER
      000000                        557 __xinit__presc:
      000000 00 00                  558 	.dw #0x0000
      000002                        559 __xinit__hours:
      000002 00                     560 	.db #0x00	; 0
      000003                        561 __xinit__mins:
      000003 00                     562 	.db #0x00	; 0
      000004                        563 __xinit__secs:
      000004 00                     564 	.db #0x00	; 0
      000005                        565 __xinit__secs_a:
      000005 00                     566 	.db #0x00	; 0
                                    567 	.area _CABS (ABS)
